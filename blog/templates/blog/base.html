{% load static %}
<html>
    <head>
        <title>Martina Castillo</title>
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="{% static 'css/blog.css' %}">
        <link href="//fonts.googleapis.com/css?family=Lobster&subset=latin,latin-ext" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
  
       <style>
form {
  /* Center the form on the page */
  margin: 0 auto;
  width: 500px;
  /* Form outline */
  padding: 1em;
  border: 1px solid #CCC;
  border-radius: 1em;
}

ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

form li + li {
  margin-top: 1em;
}

label {
    margin-block-start: auto;
}

input,
textarea {
  /* To make sure that all text fields have the same font settings
     By default, textareas have a monospace font */
  font: 1em sans-serif;

  /* Uniform text field size */
  width: 400px;
  box-sizing: border-box;

  /* Match form field borders */
  border: 1px solid #999;
}

input:focus,
textarea:focus {
  /* Additional highlight for focused elements */
  border-color: #000;
}

textarea {
  /* Align multiline text fields with their labels */
  vertical-align: top;

  /* Provide space to type some text */
  height: 5em;
}

.button {
  /* Align buttons with the text fields */
  padding-left: 90px;
  align-content: center; /* same size as the label elements */
}

button {
  /* This extra margin represent roughly the same space as the space
     between the labels and their text fields */
  margin-left: 200px;
  margin-top: 10px;
}
        </style>
    </head>
    <body>
        <div class="header">
            {% if user.is_authenticated %}
            <a href="{% url 'post_new' %}" class="top-menu"><span class="glyphicon glyphicon-plus"></span></a>
            {% endif %}

            <h1><a href="/">Bienvenido a mi Blog</a></h1>
        </div>
        
        <div style="text-align:center;" class="video">
            <iframe width="420" height="315"
            src="https://www.youtube.com/embed/tgbNymZ7vqY">
            </iframe>
        </div>
        <form action="/my-handling-form-page" method="post">
            <ul>
             <li>
               <label for="name">Tu nombre:</label>
               <input type="text" id="name" name="user_name">
             </li>
             <li>
               <label for="mail">¿Qué te gustó del video?:</label>
               <input type="text" id="texto" name="user_text">
             </li>
             <li>
               <label for="msg">¿Qué video te gustaria ver?:</label>
               <textarea id="msg" name="user_message"></textarea>
             </li>
            </ul>
            <button>Enviar</button>
           </form>
           <br>
           <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
           <div class="container">
            <table class="table table-stripped">            
                                <tr class="bg-info">
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Id</th>
                                </tr>
                        <tbody id="myTable">
                            
                        </tbody>
            </table>
           </div>
            
        <script>
            var myArray = []
            $.ajax({
                method: 'GET',
                url:'https://fakestoreapi.com/users',
                success:function(response){
                    myArray = response
                    buildTable(myArray)
                    console.log(myArray)
                }
            })

            function buildTable(data){
                var table = document.getElementById('myTable')
                
                for (var i =0; i < data.length; i++){
                    var row = `<tr>
                                    <td>${data[i].username}</td>
                                    <td>${data[i].email}</td>
                                    <td>${data[i].id}</td>
                                </tr>`
                                table.innerHTML += row
                }
            }
        </script>

   
        
        <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
        <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
        <script src="blog/scripts/main.js"></script>
    </body>
</html>
